(function(a){a.fn.printThis=function(b){var e=a.extend({},{title:"New Document",styles:null,exclude:null,include:null},b||{});var d=window.open("",e.title,"height=800,width=1020,scrollbars=yes");var c=this.clone();if(e.styles){if(a.isArray(e.styles)){a.each(e.styles,function(g,j){var h=d.document.createElement("link");h.rel="stylesheet";h.href=j;a(d.document).find("head").append(h)})}else{var f=d.document.createElement("link");f.rel="stylesheet";f.href=e.styles;a(d.document).find("head").append(f)}}if(e.exclude){if(a.isArray(e.exclude)){a.each(e.exclude,function(g,h){a(c).find(h).remove()})}else{a(c).find(e.exclude).remove()}}if(e.include){if(a.isArray(e.include)){a.each(e.include,function(g,h){c.find(h).show()})}else{c.find(e.include).show()}}console.log(a(c).html());d.document.title=e.title;d.document.body.innerHTML=a(c).html();d.document.close();d.focus();d.print()}}(jQuery));